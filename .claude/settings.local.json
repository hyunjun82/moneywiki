{
  "memory": {
    "머니위키 필수 규칙": [
      "이모지 절대 금지",
      "단일 키워드 제목 금지 (연말정산 X → 연말정산-신용카드-공제-한도 O)",
      "헤딩에 숫자 금지 (## 1. 제목 X → ## 제목 O)",
      "~알아봅니다 description 금지",
      "본문에 FAQ 섹션 금지 (frontmatter faq만)",
      "테이블 남발 금지 (신청절차/비교표만)",
      "구어체 필수 (~이에요, ~하죠, ~거든요)",
      "내부링크: /w/카테고리/슬러그",
      "summary: 배열 3줄",
      "각 섹션 4문장 이상",
      "출처 이중표기: 본문 인라인 + 하단 ## 출처 섹션",
      "어려운 법령 → 쉽게 풀어서 설명 후 출처 연결"
    ],
    "품질 검증 필수": [
      "세율: 16.5% (5,500만원 이하), 13.2% (초과) - 15%/12% 절대 금지",
      "퇴직금 지급: 14일, 청구권: 3년, 지연이자: 연 20%",
      "계산 예시 작성 시 반드시 검증",
      "단답형 금지: 돼요./있어요./없어요. 단독 사용 금지"
    ]
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": {
          "tool_name": "Write",
          "file_path": "content/wiki/*.md"
        },
        "hooks": [
          {
            "type": "command",
            "command": "py scripts/check-wiki-quality.py \"$FILE_PATH\""
          }
        ]
      },
      {
        "matcher": {
          "tool_name": "Edit",
          "file_path": "content/wiki/*.md"
        },
        "hooks": [
          {
            "type": "command",
            "command": "py scripts/check-wiki-quality.py \"$FILE_PATH\""
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(npx next build)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nSEO: 계약갱신청구권-기간 Keywords 17개→4개 축소, 소제목 최적화\n\n- Keywords: 17개 → 4개 \\(Primary + User Intent + Specific + Related\\)\n- 소제목: FAQ 스타일 → 검색 키워드 \\(나무위키 스타일\\)\n- 마무리: \"지금 당장 할 일\" → \"계약갱신청구권 기간 확인 방법\"\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(python:*)",
      "Bash(python3:*)",
      "Bash(ls:*)",
      "Bash(node scripts/analyze-keywords.js:*)",
      "Bash(node scripts/fix-keywords.js:*)",
      "Bash(node scripts/analyze-wegive-style.js:*)",
      "Bash(node:*)",
      "Bash(git commit:*)",
      "Bash(npm run dev:*)",
      "Bash(powershell -Command \"Remove-Item -Recurse -Force .next\")",
      "Bash(git stash:*)",
      "Bash(git checkout:*)",
      "Bash(npm run validate:*)",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_close",
      "mcp__playwright__browser_snapshot",
      "mcp__playwright__browser_take_screenshot",
      "mcp__playwright__browser_run_code",
      "mcp__playwright__browser_fill_form",
      "mcp__playwright__browser_evaluate",
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(curl:*)",
      "Bash(git fsck:*)",
      "Bash(powershell -Command \"\\(Get-Content ''C:\\\\Users\\\\user\\\\wiki-site\\\\CLAUDE-COMPRESSED.md'' | Measure-Object -Line\\).Lines\")",
      "Bash(Get-ChildItem -Path \"$env:USERPROFILE\\\\.claude\" -Recurse -Filter \"*playwright*\")",
      "Bash(Select-Object FullName)",
      "Bash(powershell -Command:*)",
      "Bash(git commit -m \"fix: 다가구주택 위기브 스타일 전체 재작성\n\n- 기존: 다가구주택-전세-주의사항.md \\(위반 심각\\)\n- 신규: 다가구주택-전세-계약시-선순위-임차인-확인-방법.md\n\n위기브 스타일 적용:\n✅ Title: 롱테일 키워드 \\(계약시 선순위 임차인 확인 방법\\)\n✅ Keywords: 4개 롱테일 \\(단일 키워드 제거\\)\n✅ Description: ~해요 형태 \\(알아봅니다/정리합니다 제거\\)\n✅ H1 삭제 \\(frontmatter title만 사용\\)\n✅ H2 숫자 제거 \\(## 제목\\)\n✅ 테이블 0개 \\(한도: 2개\\)\n✅ 텍스트 중심 설명 \\(80%+\\)\n✅ summary: 배열 3줄\n✅ FAQ: frontmatter만 \\(본문 삭제\\)\n✅ 구어체: ~이에요, ~해요, ~거든요\n\nWebSearch 기반 정확한 정보:\n- 2026년 1월 대법원 판결 \\(중개인 선순위 조사 의무\\)\n- 안전 기준: 시세 80% 이하\n- 확인 방법: 주민센터 확정일자부 + 전입세대 열람\")",
      "Bash(node scripts/check-wegive-violations.js:*)",
      "Bash(node scripts/debug-table-count.js:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nrefactor: 위기브 스타일 변환 33개 파일\n\n- Priority 2 테이블 10-20개 파일 변환 완료\n- 테이블 최소화, 텍스트 80-90% 중심\n- 구어체 적용 \\(~이에요, ~해요, ~거든요\\)\n- FAQ 3개 frontmatter 고정\n- keywords 4-5개로 축소\n- 위기브 검증 스크립트 추가\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(node -e:*)",
      "Bash(python scripts/keyword-suggest.py:*)",
      "Bash(py scripts/keyword-suggest.py \"실업급여\")",
      "mcp__playwright__browser_type",
      "Bash(for file in *계산기*.md)",
      "Bash(do grep -l \"schemaType: calculator\" \"$file\")",
      "Bash(done)",
      "Bash(grep:*)",
      "mcp__playwright__browser_press_key",
      "Bash(lsof:*)",
      "Bash(xargs kill:*)",
      "Bash(netstat:*)",
      "Bash(taskkill:*)",
      "Bash(gh run list:*)",
      "Bash(if not exist \"c:\\\\Users\\\\user\\\\wiki-site\\\\public\\\\files\\\\forms\" mkdir \"c:\\\\Users\\\\user\\\\wiki-site\\\\public\\\\files\\\\forms\")",
      "Bash(pip show:*)",
      "Bash(npm:*)",
      "Bash(pip install:*)",
      "Bash(\"/c/Users/user/AppData/Local/Programs/Python/Python313/python.exe\" -m pip install pywin32)",
      "Bash(\"/c/Users/user/AppData/Local/Programs/Python/Python313/python.exe\" scripts/convert-hwp-win32com.py --register)",
      "Bash(\"/c/Users/user/AppData/Local/Programs/Python/Python313/python.exe\" scripts/convert-hwp-win32com.py)",
      "Bash(\"/c/Users/user/AppData/Local/Programs/Python/Python313/python.exe\" -c:*)",
      "Bash(reg query \"HKCR\")",
      "Bash(\"/c/Users/user/AppData/Local/Programs/Python/Python313/python.exe\" -c \"\nimport os\nimport win32com.client as win32\nimport pythoncom\n\npythoncom.CoInitialize\\(\\)\n\nprint\\(''한글 프로그램 연결 중...''\\)\nhwp = win32.Dispatch\\(''HWPFrame.HwpObject''\\)\nprint\\(''연결됨!''\\)\n\n# 보안 모듈 등록\ntry:\n    hwp.RegisterModule\\(''FilePathCheckDLL'', ''FilePathCheckerModule''\\)\n    print\\(''보안 모듈 등록됨''\\)\nexcept Exception as e:\n    print\\(f''보안 모듈 등록 실패: {e}''\\)\n\n# 표준근로계약서 변환\nhwp_file = r''C:\\\\Users\\\\user\\\\wiki-site\\\\public\\\\files\\\\forms\\\\표준근로계약서.hwp''\npdf_file = r''C:\\\\Users\\\\user\\\\wiki-site\\\\public\\\\files\\\\forms\\\\표준근로계약서.pdf''\ndocx_file = r''C:\\\\Users\\\\user\\\\wiki-site\\\\public\\\\files\\\\forms\\\\표준근로계약서.docx''\n\nprint\\(f''파일 열기: {os.path.basename\\(hwp_file\\)}''\\)\nresult = hwp.Open\\(hwp_file, ''HWP'', ''forceopen:true''\\)\nprint\\(f''열기 결과: {result}''\\)\n\nprint\\(''PDF로 저장 중...''\\)\ntry:\n    hwp.SaveAs\\(pdf_file, ''PDF''\\)\n    print\\(f''PDF 저장 완료: {os.path.exists\\(pdf_file\\)}''\\)\nexcept Exception as e:\n    print\\(f''PDF 저장 실패: {e}''\\)\n\nprint\\(''DOCX로 저장 중...''\\)\ntry:\n    hwp.SaveAs\\(docx_file, ''DOCX''\\)\n    print\\(f''DOCX 저장 완료: {os.path.exists\\(docx_file\\)}''\\)\nexcept Exception as e:\n    print\\(f''DOCX 저장 실패: {e}''\\)\n\nhwp.Clear\\(1\\)\nhwp.Quit\\(\\)\npythoncom.CoUninitialize\\(\\)\nprint\\(''완료!''\\)\n\")",
      "Bash(\"/c/Users/user/AppData/Local/Programs/Python/Python313/python.exe\" -c \"\nimport os\nimport win32com.client as win32\nimport pythoncom\n\npythoncom.CoInitialize\\(\\)\n\nprint\\(''한글 프로그램 연결 중...''\\)\nhwp = win32.Dispatch\\(''HWPFrame.HwpObject''\\)\nhwp.RegisterModule\\(''FilePathCheckDLL'', ''FilePathCheckerModule''\\)\nprint\\(''연결됨!''\\)\n\nbase_dir = r''C:\\\\Users\\\\user\\\\wiki-site\\\\public\\\\files\\\\forms''\n\n# 7종 파일 변환\nprint\\(''\\\\n[1] 표준근로계약서-7종 변환''\\)\nhwp_file = os.path.join\\(base_dir, ''표준근로계약서-7종.hwp''\\)\npdf_file = os.path.join\\(base_dir, ''표준근로계약서-7종.pdf''\\)\n\nhwp.Open\\(hwp_file, ''HWP'', ''forceopen:true''\\)\nhwp.SaveAs\\(pdf_file, ''PDF''\\)\nprint\\(f''    PDF: {os.path.exists\\(pdf_file\\)}''\\)\nhwp.Clear\\(1\\)\n\n# DOCX 변환 시도 \\(DOC 형식으로\\)\nprint\\(''\\\\n[2] DOCX 변환 시도''\\)\nfiles = [''표준근로계약서'', ''단시간근로계약서'', ''표준근로계약서-7종'']\n\nfor name in files:\n    hwp_file = os.path.join\\(base_dir, f''{name}.hwp''\\)\n    doc_file = os.path.join\\(base_dir, f''{name}.doc''\\)\n    \n    print\\(f''    {name}...''\\)\n    hwp.Open\\(hwp_file, ''HWP'', ''forceopen:true''\\)\n    \n    # DOC 형식으로 저장 시도\n    try:\n        # 방법 1: SaveAs with DOC\n        hwp.SaveAs\\(doc_file, ''DOC''\\)\n        if os.path.exists\\(doc_file\\):\n            print\\(f''      DOC 저장 성공!''\\)\n    except Exception as e:\n        print\\(f''      DOC 저장 실패: {e}''\\)\n    \n    hwp.Clear\\(1\\)\n\nhwp.Quit\\(\\)\npythoncom.CoUninitialize\\(\\)\nprint\\(''\\\\n완료!''\\)\n\")",
      "Bash(cmd.exe:*)",
      "Bash(powershell.exe -Command \"& ''C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python313\\\\python.exe'' -c ''print\\(123\\)''\")",
      "Bash(powershell.exe:*)",
      "Bash(powershell.exe -Command \"pip install beautifulsoup4 requests --quiet 2>&1\")",
      "Bash(powershell.exe -Command \"& ''C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python313\\\\python.exe'' -m pip install beautifulsoup4 requests --quiet\")"
    ]
  }
}
